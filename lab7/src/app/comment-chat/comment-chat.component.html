<div class="chat-container">
  <h2>Чат комментариев</h2>

  <div class="chat-box">
    <div *ngFor="let comment of comments" class="comment">
      <strong>{{ comment.author }} ({{ comment.gender }}, {{ comment.age }} лет)</strong><br />
      <em>{{ comment.email }}</em><br />
      {{ comment.text }}
    </div>
  </div>

  <form #commentForm="ngForm" (ngSubmit)="addComment(commentForm)" class="input-box">

    <div class="form-group">
      <label>Имя:</label>
      <input type="text" name="author" [(ngModel)]="author" required minlength="2" #authorField="ngModel" />
      <div class="error" *ngIf="authorField.invalid && authorField.touched">
        Имя обязательно (мин. 2 символа).
      </div>
    </div>

    <div class="form-group">
      <label>Возраст:</label>
      <input type="number" name="age" [(ngModel)]="age" required min="18" #ageField="ngModel" />
      <div class="error" *ngIf="ageField.invalid && ageField.touched">
        Возраст обязателен (не младше 18).
      </div>
    </div>

    <div class="form-group">
      <label>Email:</label>
      <input type="email" name="email" [(ngModel)]="email" required email #emailField="ngModel" />
      <div class="error" *ngIf="emailField.invalid && emailField.touched">
        Введите корректный email.
      </div>
    </div>

    <div class="form-group">
      <label>Пол:</label>
      <select name="gender" [(ngModel)]="gender" required #genderField="ngModel">
        <option value="">Выберите пол</option>
        <option value="мужской">Мужской</option>
        <option value="женский">Женский</option>
        <option value="другое">Другое</option>
      </select>
      <div class="error" *ngIf="genderField.invalid && genderField.touched">
        Выберите пол.
      </div>
    </div>

    <div class="form-group">
      <label>Комментарий:</label>
      <textarea name="text" [(ngModel)]="text" required #textField="ngModel"></textarea>
      <div class="error" *ngIf="textField.invalid && textField.touched">
        Комментарий обязателен.
      </div>
    </div>

    <button type="submit" [disabled]="commentForm.invalid">Отправить</button>
  </form>
</div>
